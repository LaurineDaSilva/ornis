(function(){var tlMap=new Map();var tlDurationMap=new Map();var splittingLinesMapWithPageNum=new Map();var splittingWordsMapWithPageNum=new Map();var lottieShapeMap=new Map();var videoShapeMap=new Map();var videoShapeStateMap=new Map();var lines,words;var countTotalDurationWithoutInfinity=0;var exportVideoTl;const isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);const parseScriptTarget=(script)=>{const found=script.match(new RegExp('gsap.from\\([^,]+,','g'));if(found){return found[0].match(new RegExp('\\(([^,]+),'))[1];}
return null;};const parseScriptVars=(script)=>{const scriptVars={};const foundVars=script.match(new RegExp('[^{]+{(.+)}'));if(foundVars){const parts=[];let vars=foundVars[1]+',';const doubleQuotes=vars.match(new RegExp('[a-zA-Z]+:"[^"]+"','g'));doubleQuotes&&doubleQuotes.map(doubleQuote=>{vars=vars.replace(doubleQuote,'');parts.push(doubleQuote);});const singleQuotes=vars.match(new RegExp('[a-zA-Z]+:\'[^\']+\'','g'));singleQuotes&&singleQuotes.map(singleQuote=>{vars=vars.replace(singleQuote,'');parts.push(singleQuote);});const nonQuotes=vars.match(new RegExp('[a-zA-Z]+:[^,]+','g'));nonQuotes&&nonQuotes.map(nonQuote=>{vars=vars.replace(nonQuote,'');parts.push(nonQuote);});parts.map(part=>{const name=part.match(new RegExp('[a-zA-Z]+'))[0];const value=part.replace(`${name}:`,'');scriptVars[name]=value;});}
return scriptVars;};const removeScriptVars=(script,names)=>{const scriptVars=parseScriptVars(script);names.map(name=>{const value=scriptVars[name];if(value){script=script.replace(`${name}:${value},`,'');script=script.replace(`${name}:${value}`,'');}});return script;};const fixScript=(script)=>{if(isSafari){const target=parseScriptTarget(script);if(target=='lines'){script=removeScriptVars(script,Object.keys(parseScriptVars(script)));}}
return script;};function removeSvgMappingWhenDispose(pageNumber){tlMap.delete(pageNumber);tlDurationMap.delete(pageNumber);splittingLinesMapWithPageNum.delete(pageNumber);splittingWordsMapWithPageNum.delete(pageNumber);lottieShapeMap.delete(pageNumber);videoShapeMap.delete(pageNumber);}
function initAnimation(svg,pageNumber){var exportId=svg.getAttribute('data-exportid');var tl=tlMap.get(pageNumber);var isLoadAnimation=svg.getAttribute('data-loaded');if(isLoadAnimation==null||isLoadAnimation=="false"){tl=gsap.timeline();if(pageNumber!=null){tlMap.set(pageNumber,tl);}else{exportVideoTl=tl;}
var animationAttr=svg.getAttribute('animation');var lottieShapes=svg.querySelectorAll('lottie-shape');if(pageNumber!=null){let videoShapes=svg.querySelectorAll('video-shape');videoShapeMap.set(pageNumber,videoShapes);lottieShapeMap.set(pageNumber,lottieShapes);lottieShapes.forEach(lottie=>{lottie.play=false;});}
if(animationAttr!=null){var json=JSON.parse(animationAttr);var jsonSripts=json['scriptArr'];loadAnimation(jsonSripts,pageNumber,svg,exportVideoTl);if(pageNumber!=null){tlDurationMap.set(pageNumber,countTotalDurationWithoutInfinity);}else{tlDurationMap.set(exportId,countTotalDurationWithoutInfinity);}
countTotalDurationWithoutInfinity=0;tl.pause();svg.setAttribute('data-loaded',true);}}}
function animate(svg,pageLayout,pageNumber){var tl=tlMap.get(pageNumber);var delayTime;var lottieShapes=lottieShapeMap.get(pageNumber);if(pageNumber!=null&&lottieShapes){lottieShapes.forEach(lottie=>{lottie.play=false;lottie.goTo=0;lottie.play=true;});}else{tl=exportVideoTl;}
var videoShapes=videoShapeMap.get(pageNumber);var resumedVideoShapeCellIds=[];videoShapes&&videoShapes.forEach(shape=>{let{getCellId,play,seekTo}=shape.api||{};let cellId=getCellId&&getCellId();if(cellId){let state=videoShapeStateMap.get(cellId);if(state){resumedVideoShapeCellIds.push(cellId);let{playingSec}=state;seekTo&&seekTo(playingSec,'seconds');play&&play();}}});resumedVideoShapeCellIds.forEach(cellId=>{videoShapeStateMap.delete(cellId);})
if(tl!=null){if(pageLayout=='double'&&pageNumber!=null){var isStartAnimationWithPreviousPage=svg.getAttribute('isstartanimationwithpreviouspage');if(isStartAnimationWithPreviousPage==null){isStartAnimationWithPreviousPage=svg.getAttribute('isStartAnimationWithPreviousPage');}
if(isStartAnimationWithPreviousPage=='after'){var previousIndex=pageNumber-1;delayTime=tlDurationMap.get(previousIndex);}
if(delayTime!=null&&tl.delay()==0){tl.delay(delayTime);}}else{tl.delay(0);}
tl.restart(true);}}
function endAnimation(pageNumber){var tl=tlMap.get(pageNumber);if(tl!=null){tl.pause();tl.seek(0);}
var videoShapes=videoShapeMap.get(pageNumber)
if(videoShapes!=null){videoShapes.forEach(shape=>{let{getCellId,pause}=shape.api||{};let cellId=getCellId&&getCellId();if(cellId){let{wasPlaying,playingSec}=pause&&pause()||{};wasPlaying&&videoShapeStateMap.set(cellId,{playingSec});}});}
var lottieShapes=lottieShapeMap.get(pageNumber);if(lottieShapes!=null){lottieShapes.forEach(lottie=>{lottie.goTo=1;lottie.goTo=0;lottie.play=true;lottie.play=false;});}}
function preStartAnimation(svg,pageNumber){var exportId=svg.getAttribute('data-exportid');var tl=tlMap.get(pageNumber);var splittingLinesMap=splittingLinesMapWithPageNum.get(pageNumber);var splittingWordsMap=splittingWordsMapWithPageNum.get(pageNumber);if(pageNumber==null){tl=exportVideoTl;}
var animationAttr=svg.getAttribute('animation');if(splittingLinesMap==null){splittingLinesMap=new Map();splittingWordsMap=new Map();}
if(animationAttr!=null){var json=JSON.parse(animationAttr);var scriptJsons=json['scriptArr'];if(scriptJsons!=null&&scriptJsons.length!=0){scriptJsons.forEach(scriptJson=>{var countAnimation=0;var isText=scriptJson['isText'];var className=scriptJson['className'];var animations=scriptJson['animations'];var isExit=false;var animationNum=0;var mySplitText,script;if(animations!=null){var startTimeArr=[];animations.forEach(animation=>{var startingTime=animation['startTime'];startTimeArr.push(startingTime);});startTimeArr.sort();animations.forEach(animation=>{animationNum+=1;var isRepeat,repeatDuration,isInfinity;script=animation['script'];var startTime=animation['startTime'];var duration=animation['duration'];var options=animation['options'];if(options!=null){Object.keys(options).forEach(key=>{var option=options[key];var optionItems=option['optionItem'];if(optionItems!=null){Object.keys(optionItems).forEach(subKey=>{var item=optionItems[subKey];if(item['selectedOption']){isRepeat=item['isRepeat'];repeatDuration=item['repeatTimes'];isInfinity=item['infinityRepeat'];}});}});}
if(!isRepeat){var baseRepeatTimes=animation['baseRepeatTimes'];if(baseRepeatTimes!=null){isRepeat=true;if(baseRepeatTimes=='infinity'){isInfinity=true;repeatDuration=null;}else{isInfinity=false;repeatDuration=baseRepeatTimes;}}else{if(script.includes('repeat:-1')){isRepeat=true;isInfinity=true;repeatDuration=null;}}}
if(startTime==null){startTime=">";}
if(script!=null){if(animation['isEnterAnimation']==0){countAnimation+=1;}
var cellId=scriptJson['cellId'];if(isText){var items=svg.querySelectorAll('[cell-id=\"'+cellId+'\"]');items.forEach(node=>{if(node.tagName=="foreignObject"){var loopTextChild=function(node){node=node.firstElementChild.firstElementChild.firstElementChild;return getLastWithTextAndOnlyOneElement(node);}
var setTextAnimation=function(textNode){lines=splittingLinesMap.get(cellId);words=splittingWordsMap.get(cellId);if(textNode.getAttribute('isSplit')!='true'){splitTheText(textNode,cellId,splittingLinesMap,splittingWordsMap);}
script=script.replace("this.",'');if(animationNum!=1){if(countAnimation>=1){if(animation['isEnterAnimation']==0){script=toBeImmediateRenderFalse(script);}}}
if(isExit){isExit=false;tl.add(gsap.set(words,{x:0,y:0,opacity:1,scale:1,rotation:0}),startTime);tl.add(gsap.set(lines,{x:0,y:0,opacity:1,scale:1,rotation:0}),startTime);}
if(animation['isEnterAnimation']==1){isExit=true;}
script=script.replaceAll('chars','lines');var baseAnimation=animation['baseAnimation'];var opacityAnimationStr=getOpacityAnimation(baseAnimation);var a=eval(fixScript(script));if(isInfinity!=true){a.totalDuration(duration);if(opacityAnimationStr!=null){var target=a.targets();var subDuration=a.duration();var subTl=gsap.timeline();var opacityAnimation=eval(fixScript(opacityAnimationStr));subTl.add(opacityAnimation,'0');subTl.add(a,'0');subTl.pause();var tween=subTl.tweenTo(subDuration);tl.add(tween,startTime);}else{tl.add(a,startTime);}
if(countTotalDurationWithoutInfinity<a.endTime()){countTotalDurationWithoutInfinity=a.endTime();}}else{var currentIndex;startTimeArr.forEach((s,index)=>{if(s==startTime){currentIndex=index;}});if(currentIndex<(startTimeArr.length-1)&&isInfinity){isInfinity=false;var nextStartTime=startTimeArr[currentIndex+1];repeatDuration=nextStartTime-startTime;}
if(!isInfinity){var subTlduration=repeatDuration;var subTl=gsap.timeline();subTl.add(a);subTl.pause();tl.add(subTl.tweenTo(subTlduration),startTime);if(countTotalDurationWithoutInfinity<a.endTime()){countTotalDurationWithoutInfinity=a.endTime();}}else{tl.add(a,startTime);var time=a.startTime()+a.duration();if(countTotalDurationWithoutInfinity<time){countTotalDurationWithoutInfinity=time;}}}}
node=loopTextChild(node);if(node.children!=null&&node>1){var children=node.children;var isBr=false;children.forEach(child=>{if(node.tagName.toLowerCase()=="br"){isBr=true;}else{gsap.set(child,{opacity:1});setTextAnimation(child);}});if(isBr){gsap.set(node,{opacity:1});setTextAnimation(node);}}else{gsap.set(node,{opacity:1});setTextAnimation(node)}}});}}});}});}
var compareTime=tlDurationMap.get(pageNumber);if(pageNumber!=null){splittingLinesMapWithPageNum.set(pageNumber,splittingLinesMap);splittingWordsMapWithPageNum.set(pageNumber,splittingWordsMap);if(compareTime<countTotalDurationWithoutInfinity){if(pageNumber==null){tlDurationMap.set(exportId,countTotalDurationWithoutInfinity);}else{tlDurationMap.set(pageNumber,countTotalDurationWithoutInfinity);}}}
if(tl!=null){tl.pause();tl.seek(0);}}}
function loadAnimation(scriptJsons,pageNumber,svg,exportVideoTl){var tl=tlMap.get(pageNumber);if(pageNumber==null){tl=exportVideoTl;}
countTotalDurationWithoutInfinity=0;if(scriptJsons!=null&&scriptJsons.length!=0){scriptJsons.forEach(scriptJson=>{var countAnimation=0;var isGroup=scriptJson['isGroup'];var isText=scriptJson['isText'];var className=scriptJson['className'];var animations=scriptJson['animations'];var isExit=false;var animationNum=0;var mySplitText,script;if(animations!=null){var startTimeArr=[];animations.forEach(animation=>{var startingTime=animation['startTime'];startTimeArr.push(startingTime);});startTimeArr.sort();if(isGroup){var groupEls=[];var groupedCellId=scriptJson['groupCellIdArr'];if(groupedCellId!=null){var groupNodeArr=[];groupedCellId.forEach(id=>{var items=svg.querySelectorAll('[cell-id=\"'+id+'\"]');var els=[];items.forEach(node=>{els.push(node)});els.forEach(node=>{if(node.tagName!='foreignObject'&&node.tagName!="mask"&&node.parentNode.tagName!="mask"&&node.tagName!="clipPath"&&node.parentNode.tagName!="clipPath"&&node.tagName!="filter"&&node.parentNode.tagName!='filter'&&(!node.parentNode||!els.includes(node.parentNode))){groupNodeArr.push(node);}});});groupNodeArr.forEach(item=>{groupEls.push(item);});animations.forEach(animation=>{animationNum+=1;var isRepeat,repeatDuration,isInfinity;script=animation['script'];var startTime=animation['startTime'];var duration=animation['duration'];var options=animations['options'];if(options!=null){Object.keys(options).forEach(key=>{var option=options[key];var optionItems=option['optionItem'];if(optionItems!=null){Object.keys(optionItems).forEach(subKey=>{var item=optionItems[subKey];if(item['selectedOption']){isRepeat=item['isRepeat'];repeatDuration=item['repeatTimes'];isInfinity=item['infinityRepeat'];}});}});}
if(!isRepeat){var baseRepeatTimes=animation['baseRepeatTimes'];if(baseRepeatTimes!=null){isRepeat=true;if(baseRepeatTimes=='infinity'){isInfinity=true;repeatDuration=null;}else{isInfinity=false;repeatDuration=baseRepeatTimes;}}else{if(script.includes('repeat:-1')){isRepeat=true;isInfinity=true;repeatDuration=null;}}}
if(startTime==null){startTime=">";}
if(animation['isEnterAnimation']==0){countAnimation+=1;}
if(script!=null){animation['isEnterAnimation']==0&&(script=toBeImmediateRenderFalse(script));script=script.replace("this",'groupEls');script=script.replace("'."+className+"'",'groupEls');if(isExit){isExit=false;tl.add(gsap.set(groupEls,{x:0,y:0,opacity:1,scale:1,rotation:0}),startTime);}
if(animation['isEnterAnimation']==1){isExit=true;}
var a=eval(fixScript(script));if(duration!=null){a.totalDuration(duration);}
var baseAnimation=animation['baseAnimation'];var opacityAnimationStr=getOpacityAnimation(baseAnimation);if(isInfinity!=true){if(opacityAnimationStr!=null){var target=a.targets();var subDuration=a.duration();var subTl=gsap.timeline();var opacityAnimation=eval(fixScript(opacityAnimationStr));subTl.add(opacityAnimation,'0');subTl.add(a,'0');subTl.pause();var tween=subTl.tweenTo(subDuration);tl.add(tween,startTime);}else{tl.add(a,startTime);}
if(countTotalDurationWithoutInfinity<a.endTime()){countTotalDurationWithoutInfinity=a.endTime();}}else{var currentIndex;startTimeArr.forEach((s,index)=>{if(s==startTime){currentIndex=index;}});if(currentIndex<(startTimeArr.length-1)&&isInfinity){isInfinity=false;var nextStartTime=startTimeArr[currentIndex+1];repeatDuration=nextStartTime-startTime;}
tl.add(a,startTime);var time=a.startTime()+a.duration();if(countTotalDurationWithoutInfinity<time){countTotalDurationWithoutInfinity=time;}}}});}}else{animations.forEach(animation=>{animationNum+=1;var isRepeat,repeatDuration,isInfinity;script=animation['script'];var startTime=animation['startTime'];var duration=animation['duration'];var options=animation['options'];if(options!=null){Object.keys(options).forEach(key=>{var option=options[key];var optionItems=option['optionItem'];if(optionItems!=null){Object.keys(optionItems).forEach(subKey=>{var item=optionItems[subKey];if(item['selectedOption']){isRepeat=item['isRepeat'];repeatDuration=item['repeatTimes'];isInfinity=item['infinityRepeat'];}});}});}
if(!isRepeat){var baseRepeatTimes=animation['baseRepeatTimes'];if(baseRepeatTimes!=null){isRepeat=true;if(baseRepeatTimes=='infinity'){isInfinity=true;repeatDuration=null;}else{isInfinity=false;repeatDuration=baseRepeatTimes;}}else{if(script.includes('repeat:-1')){isRepeat=true;isInfinity=true;repeatDuration=null;}}}
if(startTime==null){startTime=">";}
if(script!=null){if(animation['isEnterAnimation']==0){countAnimation+=1;}
var cellId=scriptJson['cellId'];if(isText){var items=svg.querySelectorAll('[cell-id=\"'+cellId+'\"]');items.forEach(node=>{if(node.tagName=="foreignObject"){var loopTextChild=function(node){node=node.firstElementChild.firstElementChild.firstElementChild;return getLastWithTextAndOnlyOneElement(node);}
node=loopTextChild(node);if(node.children!=null&&node>1){var children=node.children;var isBr=false;children.forEach(child=>{if(node.tagName.toLowerCase()=="br"){isBr=true;}else{gsap.set(child,{opacity:0});}});if(isBr){gsap.set(node,{opacity:0});}}else{gsap.set(node,{opacity:0});}}});}else{if(cellId!=null){var nodes=[];var isClip=animation['isClip'];var items=svg.querySelectorAll('[cell-id=\"'+cellId+'\"]');var isAni=false;var isAniElement;items.forEach(node=>{if(node.tagName!='text'&&node.tagName!="mask"&&node.parentNode.tagName!="mask"&&node.parentNode.tagName!='filter'&&node.tagName!="filter"&&node.tagName!="clipPath"&&node.parentNode.tagName!="clipPath"){if(node.querySelector('[ani]')!=null){node=node.querySelector('[ani]');if(node.querySelector('lottie-shape')||node.querySelector('video-shape')){isAniElement=node;isAni=true;}}else if(node.parentNode!=null&&node.parentNode.getAttribute('shape-node')!=null){node=node.parentNode;}
if(isClip){node=node.querySelector('image');}
if(node&&!nodes.includes(node)){nodes.push(node);}}});if(isAni){nodes=[isAniElement];}
if(animationNum!=1){if(countAnimation>=1){animation['isEnterAnimation']==0&&(script=toBeImmediateRenderFalse(script));}}
script=script.replace("this",'nodes');script=script.replace("'."+className+"'",'nodes');if(isExit){isExit=false;tl.add(gsap.set(nodes,{x:0,y:0,opacity:1,scale:1,rotation:0}),startTime);}
if(animation['isEnterAnimation']==1){isExit=true;}
var baseAnimation=animation['baseAnimation'];var opacityAnimationStr=getOpacityAnimation(baseAnimation);var a=eval(fixScript(script));if(duration!=null){a.totalDuration(duration);}
if(isInfinity!=true){if(opacityAnimationStr!=null){var target=a.targets();var subDuration=a.duration();var subTl=gsap.timeline();var opacityAnimation=eval(fixScript(opacityAnimationStr));subTl.add(opacityAnimation,'0');subTl.add(a,'0');subTl.pause();var tween=subTl.tweenTo(subDuration);tl.add(tween,startTime);}else{tl.add(a,startTime);}
if(countTotalDurationWithoutInfinity<a.endTime()){countTotalDurationWithoutInfinity=a.endTime();}}else{var currentIndex;startTimeArr.forEach((s,index)=>{if(s==startTime){currentIndex=index;}});if(currentIndex<(startTimeArr.length-1)&&isInfinity){isInfinity=false;var nextStartTime=startTimeArr[currentIndex+1];repeatDuration=nextStartTime-startTime;}
if(!isInfinity){var subTlduration=repeatDuration;var subTl=gsap.timeline();subTl.add(a);subTl.pause();tl.add(subTl.tweenTo(subTlduration),startTime);if(countTotalDurationWithoutInfinity<a.endTime()){countTotalDurationWithoutInfinity=a.endTime();}}else{tl.add(a,startTime);var time=a.startTime()+a.duration();if(countTotalDurationWithoutInfinity<time){countTotalDurationWithoutInfinity=time;}}}}}
tlMap.set(pageNumber,tl);}});}}});}}
function getIndex(target,type,previousIndex){var theStyle='--'+type+'-index';if(target.getAttribute("style")!=null){var styles=target.getAttribute("style").split(';');var astyle;var previousIndex;for(var i=0;i<styles.length;i++){astyle=styles[i].split(':');if(astyle[0].includes(theStyle)){return(astyle[1]);}}}
return previousIndex;}
function insertAfter(newNode,existingNode){existingNode.parentNode.insertBefore(newNode,existingNode.nextSibling);}
function parentTagNeedToAdd(target,startNode,nodeTagArr){if(target!=startNode.parentNode){nodeTagArr.push(target.tagName.toLowerCase());parentTagNeedToAdd(target.parentNode,startNode,nodeTagArr);}}
function loopGetLines(parent,currentIndex,nodeMap,splittingArr,isFirstLayer){if(nodeMap==null){nodeMap=new Map();}
var childNodeMap;var children=parent.children;var childAppendArr=nodeMap.get(currentIndex);var storedArr=childAppendArr;childAppendArr=[];if(storedArr!=null){nodeMap.delete(currentIndex);}
var index;children=[].slice.call(children);var previousIndex;children.forEach((child,key)=>{if(!child.classList.contains('lineContainer')){if(child.children!=null&&child.children.length>0){nodeMap=loopGetLines(child,currentIndex,nodeMap,splittingArr,false);var arr=nodeMap.get(currentIndex);if(arr!=null&&arr.length>0){var isIncludeStart,isIncludeEnd;var linesArr=splittingArr[currentIndex];arr.forEach(word=>{if(word==linesArr[0]){isIncludeStart=true;}
if(word==linesArr[linesArr.length-1]){isIncludeEnd=true;}});if(isIncludeStart&&isIncludeEnd){childAppendArr=arr;}else if(isIncludeEnd&&!isIncludeStart){var nextLineNodes=[];var targetParent=arr[0].parentNode;var targetChildren=[].slice.call(arr[0].parentNode.children);targetChildren.forEach(targetChild=>{var isNext=true;arr.forEach(a=>{if(a==targetChild){isNext=false;}});if(isNext){nextLineNodes.push(targetChild);if(targetChild.nextElementSibling!=null){nextLineNodes.push(targetChild.nextElementSibling);}}});var nodeTagArr=[];if(childAppendArr.length>0){parentTagNeedToAdd(child,childAppendArr[0],nodeTagArr);var childNode;nodeTagArr.forEach((tag,index)=>{var dom=document.createElement(tag);dom.setAttribute('isNextLine',true);if(index==0){nextLineNodes.forEach(nextLineNode=>{dom.appendChild(nextLineNode);});}else{dom.appendChild(childNode);}
childNode=dom;});childAppendArr.push(child);var nextNum=currentIndex+1;nodeMap.set(nextNum,[childNode]);}}else{var checkChildren=child.children;var isIncludeOtherLines=false;if(checkChildren!=null){checkChildren=[].slice.call(checkChildren);checkChildren.forEach(c=>{if(c.classList.contains('lineContainer')){isIncludeOtherLines=true;}});}
if(!isIncludeOtherLines){childAppendArr.push(child);}}}}else{var index=getIndex(child,'line',previousIndex);if(currentIndex==index){childAppendArr.push(child);if(child.classList.contains('word')){if(children[key+1]==null||(children[key+1]!=null&&!children[key+1].classList.contains('whitespace'))){var whiteSpace=document.createElement('span');whiteSpace.setAttribute('class','whitespace');whiteSpace.textContent=' ';insertAfter(whiteSpace,child);childAppendArr.push(whiteSpace);}}}
previousIndex=index;}}});if(childAppendArr.length>0){if(storedArr!=null&&storedArr.length>0){var isParentNoNeedToAdd=false;childAppendArr.forEach(c=>{storedArr.forEach(s=>{if(c.parentNode==s){isParentNoNeedToAdd=true;}});if(isParentNoNeedToAdd&&c.classList.contains('word')){isParentNoNeedToAdd=false;}else if(!isParentNoNeedToAdd&&!c.classList.contains('word')){isParentNoNeedToAdd=true;}});if(isParentNoNeedToAdd){storedArr.forEach((storedNode=>{childAppendArr.unshift(storedNode);}));}}
nodeMap.set(currentIndex,childAppendArr);}
if(isFirstLayer){var arr=nodeMap.get(currentIndex);if(arr!=null&&arr.length>0){var div=document.createElement('div');div.style.display='inline-block';div.style.whiteSpace='nowrap';div.setAttribute("class","lineContainer");var parent=arr[0].parentNode;if(parent==null){parent=arr[1].parentNode;}
parent.appendChild(div);if(storedArr!=null){storedArr.forEach((storedNode=>{arr.unshift(storedNode);}));}
arr.forEach((node,index)=>{div.appendChild(node);});nodeMap.set(currentIndex,div);}}
return nodeMap;}
function moveBrOutside(lastNode,value){if(lastNode.tagName.toLowerCase()=='br'){insertAfter(lastNode,value);moveBrOutside(value.lastChild,value);}}
function getSplitingLines(target,cellId,splittingLinesMap,splittingWordsMap){const results=Splitting({target:target,by:'lines'});const length=results[0].lines.length;var nodeMap=new Map();for(var i=0;i<length;i++){nodeMap=loopGetLines(target,i,nodeMap,results[0].lines,true);}
var targetDivs=[];nodeMap.forEach((value,key)=>{var lastNode=value.lastChild;if(lastNode!=null){moveBrOutside(lastNode,value);}
targetDivs.push(value);});lines=targetDivs;words=results[0].words;splittingLinesMap.set(cellId,lines);splittingWordsMap.set(cellId,words);}
function splitTheText(target,cellId,splittingLinesMap,splittingWordsMap){if(typeof(target)=='string'){target=document.querySelector(target);}
getSplitingLines(target,cellId,splittingLinesMap,splittingWordsMap);target.setAttribute('isSplit',true);}
function getLastWithTextAndOnlyOneElement(rs){var children=rs.childNodes;var noTextNode=true;var count=0;if(children!=null){children.forEach(child=>{if(child.nodeType==3){noTextNode=false;}else if(child.nodeType==1){count=count+1;}});}
if(noTextNode&&count==1){rs=getLastWithTextAndOnlyOneElement(rs.firstElementChild);return rs;}else{return rs;}}
function getOpacityAnimation(baseAnimation){if(baseAnimation!=null){var animationJson=baseAnimation['animationJson'];var animationType=animationJson['animationType'];if(animationType==0){var isLinearOpacity=animationJson['isLinearOpacity'];if(isLinearOpacity){var opacityEase;var opacity=animationJson['opacity'];if(opacityEase=='slow'){opacityEase=animationJson["opacityEase"]+'(0.7,1,false)"';}else if(animationJson["opacityEase"]=='steps'){opacityEase=animationJson["opacityEase"]+'(6)"';}
else if(animationJson["opacityEase"]=='elastic'){opacityEase=animationJson["opacityEase"]+'.in(1,0.3)"';}else if(animationJson["opacityEase"]=='back'){opacityEase=animationJson["opacityEase"]+'.in(1.7)"';}else{opacityEase=animationJson["opacityEase"]+'.in"';}
return 'gsap.from(target,{opacity:'+opacity+',ease:"'+opacityEase+'})';}}}
return null;}
function toBeImmediateRenderFalse(script){var scriptX=script.lastIndexOf("}");var subtext=script.substring(0,scriptX);var immediateString="immediateRender:false";if(subtext.charAt(subtext.length-1)!=','){immediateString=','+immediateString;}
return script.substring(0,scriptX)+immediateString+script.substring(scriptX,script.length);}
window.removeSvgMappingWhenDispose=removeSvgMappingWhenDispose;window.initAnimation=initAnimation;window.animate=animate;window.endAnimation=endAnimation;window.preStartAnimation=preStartAnimation;})();